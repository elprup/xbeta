{"id":89,"date":"2009-12-22T07:00:59","date_gmt":"2009-12-21T23:00:59","guid":{"rendered":"http://192.168.5.119/2.2/?p=89"},"modified":"2009-12-22T07:00:59","modified_gmt":"2009-12-21T23:00:59","slug":"pre-txt","status":"publish","link":"https://xbeta.info/pre-txt.htm","title":{"rendered":"大道至简: 用pre统一txt与html来记笔记"},"content":{"rendered":"<p>　　笔记软件层出不穷，乱花渐欲迷人眼。但深入体验过txt格式的极致开放、精简，领略过Vim等编辑神器的自由逍遥后，很多人返朴归真，近乎偏执地用Vim以txt格式来记笔记者。客观来讲，图片或简单格式也偶有需求。这种情况下，html是更好的选择。于是，思考：能否将txt与html统一起来呢？pre标签即可解决此问题。<br />\n　　所谓统一txt与html，就是在普通txt的开头加一个pre标签。这样，作为txt，它仍能在文本编辑器中，方便地阅读、编辑、搜索。同时，又能在浏览器下直接保持格式显示——免除了&lt;br&gt;换行、失去行首缩进的烦恼——从而为图片展现提供可能。也就是说，这种统一格式，在Vim中就是txt，在浏览器中就是html；可以理解为扩展的txt，也可以理解为极度精简的html。至于文件名后辍，纯属表象，任君选择。重要的它的实质：既得到了vim编辑txt的便利，又得到了浏览器显示html的功能扩展。<span style=\"color:red;\">【重要说明：本文是经验分享，并非推荐方案。本来就偏执txt/html/vim者，可读此文获得技巧。原本有其他工具的，请略过此文。】</span></p>\n<h2>pre 标签</h2>\n<p>　　pre 标签，是以txt为html的关键。它让txt中的tab缩进、回车换行仍能保留在html中。<br />\n　　但直接 pre 会导致过长的文字撑宽浏览器，要想自动换行，需要如下写法，以兼顾不同浏览器：</p>\n<blockquote><p>&lt;pre style=&#8221;word-wrap: break-word; white-space: pre-wrap; white-space: -moz-pre-wrap&#8221; &gt; </p></blockquote>\n<h2>img 标签</h2>\n<p>　　要支持图片，只须 &lt;img src=xxx.png&gt; 标签。<br />\n　　通常，图片连号，可以复制/粘贴，然后，通过 Ctrl+A 和 Ctrl+X 直接加减即可。比如，复制一个 src=img-5.png，光标放在5上，按下2 ctrl+x，就成了 img-7.png （vim理解数字为负5，减2，得负7）。</p>\n<h2>h2 标签</h2>\n<p>　　为了在htm中有所突出，可增加一些标题标签。</p>\n<h2>如何快速在浏览器打开当前文件　<span style=\"color:red;\">新</span></h2>\n<p>　　在gVim中，“最基本”的命令是——<br />\n　　:!%<br />\n　　!表示外部命令运行，可以理解成windows的运行之类。<br />\n　　%表示当前文件。<br />\n　　因此，上述命令就相当于在文件管理器双击此文件（从这方面讲，建议文件后辍为htm，以便于浏览器打开）</p>\n<p>　　改进包括：<br />\n　　- 在!前增加silent，以跳过cmd窗口。<br />\n　　- %放在双引号中，兼容路径含有中文或空格的情况。<br />\n　　- 进行map，一键运行。</p>\n<p>　　这样的htm基本等于txt，既可以充分发挥VIM的能力，又能兼顾图片，比较满意。</p>\n<h2>附：相关syntax文件</h2>\n<blockquote><p>abb &lt;buffer&gt; zpre &lt;pre style=&#8221;word-wrap: break-word; white-space: pre-wrap; white-space: -moz-pre-wrap;&#8221;&gt;<br />\ninoremap &lt;buffer&gt; ;h2 &lt;esc&gt;^i&lt;h2&gt;&lt;esc&gt;$a&lt;/h2&gt;&lt;esc&gt;F&lt;i<br />\nvnoremap &lt;buffer&gt; ;h2 &#8220;zdi&lt;h2&gt;&lt;C-R&gt;z&lt;/h2&gt;&lt;esc&gt;F&lt;i<br />\ninoremap &lt;buffer&gt; ;i &lt;img src=&#8221;&#8221; alt=&#8221;[image]&#8221;&gt;&lt;esc&gt;3F&#8221;i<br />\ninoremap &lt;buffer&gt; ;st &lt;strong&gt;&lt;/strong&gt;&lt;esc&gt;bba<br />\nvnoremap &lt;buffer&gt; ;st &#8220;ydi&lt;strong&gt;&lt;C-R&gt;y&lt;/strong&gt;&lt;esc&gt;F&#8221;i<br />\ninoremap &lt;buffer&gt; ;l &lt;a href=&#8221;&#8221;&gt;&lt;/a&gt;&lt;esc&gt;F&#8221;i<br />\nvnoremap &lt;buffer&gt; ;l &#8220;ydi&lt;a href=&#8221;&#8221;&gt;&lt;C-R&gt;y&lt;/a&gt;&lt;esc&gt;F&#8221;i<br />\ninoremap &lt;buffer&gt; ;bq &lt;blockquote&gt;&lt;/blockquote&gt;&lt;esc&gt;bba<br />\ninoremap &lt;buffer&gt; &lt;s-enter&gt; &lt;br/&gt;&lt;cr&gt;</p></blockquote>\n<h3 id=\"update-history\">附录：文章更新历史</h3>\n<p>　　2009-12-21：重写。<br />\n　　2006-07-05：初稿。<br />\n></iframe></p>\n","protected":false},"excerpt":{"rendered":"<p>　　笔记软件层出不穷，乱花渐欲迷人眼。但深入体验过txt格式的极致开放、精简，领略过Vim等编辑神器的自由逍遥 [&hellip;]</p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":["1 文本办公","1.4 信息管理","未分类"],"tags":["gvim","all"],"_links":{"self":[{"href":"https://xbeta.info/wp-json/wp/v2/posts/89"}],"collection":[{"href":"https://xbeta.info/wp-json/wp/v2/posts"}],"about":[{"href":"https://xbeta.info/wp-json/wp/v2/types/post"}],"author":[{"embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/users/2"}],"replies":[{"embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/comments?post=89"}],"version-history":[{"count":0,"href":"https://xbeta.info/wp-json/wp/v2/posts/89/revisions"}],"wp:attachment":[{"href":"https://xbeta.info/wp-json/wp/v2/media?parent=89"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/categories?post=89"},{"taxonomy":"post_tag","embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/tags?post=89"}],"curies":[{"name":"wp","href":"https://api.w.org/{rel}","templated":true}]},"wp_type":"post"}