{"id":98,"date":"2006-04-22T21:40:25","date_gmt":"2006-04-22T21:40:25","guid":{"rendered":"http://192.168.5.119/2.2/?p=98"},"modified":"2006-04-22T21:40:25","modified_gmt":"2006-04-22T21:40:25","slug":"%e5%96%84%e7%94%a8vim%ef%bc%9a%e5%ae%9e%e4%be%8b%e7%b3%bb%e5%88%972","status":"publish","link":"https://xbeta.info/%e5%96%84%e7%94%a8vim%ef%bc%9a%e5%ae%9e%e4%be%8b%e7%b3%bb%e5%88%972.htm","title":{"rendered":"善用Vim：实例系列(2)"},"content":{"rendered":"<div><img STYLE=\"FLOAT: left; MARGIN: 4px\" SRC=\"http://www.vim.org/images/vim_header.gif\"></img><font COLOR=\"#009900\">[本文说明]写过多篇Vim应用小文，为方便阅读，现做整理，并删除旧文。以后凡Vim文章，皆归入此系列。另，为便于搜索，统一vim、gvim及大小写为<strong>Vim</strong>。　&#8211;</font><font COLOR=\"#009900\">xbeta　2007年12月20日</font></div>\n<div>[本文目录] 1 处理word目录 2 改变大小写 3 制作极点单字库</div>\n<h4>1 处理word目录</h4>\n<div>任务：<br />\n　　从word中把目录复制出来，去除多余信息(标题编号、页码)<br />\n命令：<br />\n　　<font COLOR=\"#FF0000\">%s/d|.|s//gc</font></div>\n<div>结果：</div>\n<div>　　转瞬间200多行1000多字符烟消云灭</div>\n<div>附图：<br />\n　　<a href=\"http://blog.sina.com.cn/main/html/showpic.html#url=http://static6.photo.sina.com.cn/orignal/46dac66f861e2b144b9f5\" TARGET=\"_blank\"><img SRC=\"http://static6.photo.sina.com.cn/orignal/46dac66f861e2b144b9f5\" BORDER=\"0\"></img></a></div>\n<h4>2 改变大小写</h4>\n<div>\n刚才在BBS上回答了一个问题，当然，这个问题并不复杂。就是“如何把一个文本文件中的大写字母全部替换成小写”。<a HREF=\"http://www.newsmth.net/bbscon.php?board=NewSoftware&#038;id=840511\"><font COLOR=\"#000033\">http://www.newsmth.net/bbscon.php?board=NewSoftware&#038;id=840511</font></a></p>\n<p>　　Word当然可以。</p>\n<p>　　但作为文本，首先想到的还是gVIM，用它如何操作呢？<br />\n　　打开文件后，不用任何鼠标、菜单，只须在键盘上按下“<strong><font COLOR=\"#FF0000\">ggguG</font></strong>”就行了。<br />\n　　极品软件就是这样：<strong>唯有功能强到极致，操作才能简到极致！<br />\n</strong><br />\n解释一下：<strong><font COLOR=\"#FF0000\">ggguG</font></strong>分作三段gg gu G<br />\ngg=光标到文件第一个字符<br />\ngu=把选定范围全部小写</div>\n<div>G=到文件结束</div>\n<h4>3 制作极点单字库</h4>\n<div>\n<div>用五笔，我习惯输入单字。为此，就要把词库中的多字词去除。</div>\n<div>\n（之所以不设定为单字模式，因为定义了一些其他词，如bis=http://blog.sina.com.cn/m/xbeta等）<br />\n极点有一个这样的工具，但我用的不熟。<br />\n想到了强大的VIM文本编辑器，一试，果然成功，并且简便。<br />\n与大家分享如下。(如果试验请谨慎，先做好备份。本文作者不对后果承担任何责任)<br />\n并感谢杜老师在极点5.0中更正了极点设置后VIM会崩溃的问题。</div>\n<div>\n极点词库格式很简单，编码1-4字母，几个词，用空格分开。例如下:<br />\n　　｜aaff 蓬蓬勃勃 苷<br />\n　　｜aafg 葡萄干<br />\n　　｜aafh 苏东坡<br />\n　　｜aafn 工场<br />\n　　｜aafo 蘜</div>\n<div>要去除多于1字的词语，只要2行命令就OK。<br />\n用VIM打开词库文件。<br />\n执行命令</div>\n<div><font COLOR=\"#FF0000\">　　:.,$s/ S{2,}( |$)/<br />\n/gc</font></div>\n<div>和</div>\n<div><font COLOR=\"#FF0000\">　　:.,$g/^a{1,4} $/normal<br />\ndd</font></div>\n<div>保存，就完了。</div>\n<div>\n只要2行命令，而每条命令又如此古怪，大家可以想见VIM之功能强大。</div>\n<div>\n<hr ID=\"null\"></hr>\n</div>\n<div>\n　　VI是UNIX下文本编辑器的鼻祖。也就是说，基于它有很多改进的分支。<br />\n　　而VIM则是其中影响力最大的一支。它的第一个版本出现于1976年(哪个软件还有如此长的历史而依然活跃)。<br />\n　　我以前知道并用过盗版的Ultraedit、Editplus、Emeditor，认识VIM后将它们全舍弃了。<br />\n　　你能设想VIM是免费开源的吗？<br />\n　　VIM在windows平台下的版本是gVIM，我用的就是它。<br />\n　　安装后(包括多国语言文件、插件、语法文件)占空间20M。其实，最少只要一个exe文件不到2M就可以用了。<br />\n　　有兴趣的可以到华军下载一个。再到网上找找教程，或到水木社区smth.org的VIM版。</p>\n<hr ID=\"null\"></hr>\n<p><font COLOR=\"#FF0000\">:.,$s/ S{2,}( |$)/ /gc</font></div>\n<div>解释如下：<br />\n　　:表示外部命令<br />\n　　.,$表示当前行到全文结束<br />\n　　s表示替换<br />\n共有三个/<br />\n　　前两个//之间是要被替换的旧字符串(正则表达式)。“ S{1,}(<br />\n|$)”表示“先有一个空格，再有1-N个非空字符，然后是一个空格或行尾”。<br />\n　　后两个//之间是要替换为的新字符串，本例中，为一个空格。<br />\n　　gc表示替换所有匹配的情况，并且每次要用户手工确认(这是为了直观和谨慎，如果有把握，可以不确认，直接执行)。</div>\n<div>\n<font COLOR=\"#FF0000\">:.,$g/^a{1,4} $/normal dd</font></div>\n<div>解释如下：<br />\n　　:表示外部命令<br />\n　　g表示找到某个字符串，然后执行某个操作<br />\n　　第一个/之后是要找的字符串，“^a{2,4}<br />\n$”表示找“行首，然后是2-4个英文字母，然后空格，然后行尾”<br />\n　　第二个/之后是要执行的命令，“normal<br />\ndd”，在VIM中是删除本行。</div>\n<div><a HREF=\"http://blog.sina.com.cn/pic/46dac66f020000y3\" TARGET=\"_blank\"><img SRC=\"http://blog.sina.com.cn/pic/46dac66f020000y3\" BORDER=\"0\"></img></a>（本篇完）</div>\n</div>\n<p>></iframe></p>\n","protected":false},"excerpt":{"rendered":"<p>[本文说明]写过多篇Vim应用小文，为方便阅读，现做整理，并删除旧文。以后凡Vim文章，皆归入此系列。另，为便 [&hellip;]</p>\n","protected":false},"author":15,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":["旧.text/Vim","未分类"],"tags":["gvim","all"],"_links":{"self":[{"href":"https://xbeta.info/wp-json/wp/v2/posts/98"}],"collection":[{"href":"https://xbeta.info/wp-json/wp/v2/posts"}],"about":[{"href":"https://xbeta.info/wp-json/wp/v2/types/post"}],"author":[{"embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/users/15"}],"replies":[{"embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/comments?post=98"}],"version-history":[{"count":0,"href":"https://xbeta.info/wp-json/wp/v2/posts/98/revisions"}],"wp:attachment":[{"href":"https://xbeta.info/wp-json/wp/v2/media?parent=98"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/categories?post=98"},{"taxonomy":"post_tag","embeddable":true,"href":"https://xbeta.info/wp-json/wp/v2/tags?post=98"}],"curies":[{"name":"wp","href":"https://api.w.org/{rel}","templated":true}]},"wp_type":"post"}